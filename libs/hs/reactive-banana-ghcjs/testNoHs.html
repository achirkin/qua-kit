<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv='Content-Type' content='text/html; charset=utf-8'>
    <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1">
    <meta name="msapplication-tap-highlight" content="no" />
    <!-- Disable cashing to get always newest results! -->
    <meta http-equiv="Cache-Control" content="no-store" />
    <meta http-equiv="cache-control" content="max-age=0" />
    <meta http-equiv="cache-control" content="no-cache" />
    <meta http-equiv="expires" content="0" />
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT" />
    <meta http-equiv="pragma" content="no-cache" />
    <script src="jsbits/ReactiveBanana.js"></script>
    <!--<script src="test.js"></script>-->
  </head>
  <body style="margin: 15px; padding: 12px; background-color: #f0f0f0">
     <div style="width: 1000px; margin: 25px; padding: 18px; background-color: coral; border-color: blue; border-style: solid;">
        <canvas id="cvn" height="200" width="200" style="margin: 22px; padding: 10px 20px 30px 25px; border-color: darkred; border-style: dashed; background-color: white; width: 65%; height: 400px;"></canvas>
     </div>
  </body>
  <!--<script language="javascript" src="test.js" defer></script>-->
  <script language="javascript" >
    var canvas = document.getElementById("cvn");
    var ctx = canvas.getContext("2d");

    var rk = new ReactiveBanana.PointerKeeper(canvas,
      function (ev) {
        console.log("pointerUp",ev);
        ctx.fillStyle = "#004466";
        ctx.fillRect(ev.pointers[0].x-2,ev.pointers[0].y-2,5,5)
      },
      function (ev) {
        console.log("pointerDown",ev);
        ctx.fillStyle = "#FFFFAA";
        ctx.fillRect(ev.pointers[0].x-7,ev.pointers[0].y-7,15,15)

      },
      function (ev) {
        console.log("pointerMove",ev);
        ctx.fillStyle = "#00FFAA";
        ctx.fillRect(ev.pointers[0].x-1,ev.pointers[0].y-1,3,3)

      },
      function (ev) {
        console.log("pointerCancel",ev);
        ctx.fillStyle = "#FF0000";
        ctx.fillRect(ev.pointers[0].x-5,ev.pointers[0].y-5,11,11)

      });

    ReactiveBanana.listenToWheel(canvas, function(delta) {
      if (delta > 0) {
        canvas.style.backgroundColor = "#FFCCCC";
      } else if (delta < 0) {
        canvas.style.backgroundColor = "#CCCCFF";
      } else {
        canvas.style.backgroundColor = "#FFFFFF";
      }
    })
  </script>
</html>
